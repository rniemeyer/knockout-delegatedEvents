// knockout-delegatedEvents 0.5.0 | (c) 2015 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.actions={})}(function(a,b){function c(b){return function(c,d,e){for(var f="data-"+e+"-parent";c&&1===c.nodeType&&!c.disabled&&!c.hasAttribute(f);)c=c!==d?c.parentNode:null;if(c){var g=a.dataFor(d),h=c.getAttribute(f),i="true"===h?b:b[h];return i&&"function"==typeof i?{method:i,element:c,owner:g}:void 0}}}function d(b,c,d){for(var g,h,i,j,k="data-"+d,l=e+d,m=f+d,n="data-"+d+"-parent";!g&&b;)1!==b.nodeType||b.disabled||(i?(g=a.utils.domData.get(b,m),g&&(g="true"===i?g:g[i],h=a.dataFor(b))):(g=b.getAttribute(k)||a.utils.domData.get(b,l),g||(i=b.getAttribute(n),i&&(j=b)))),g||(b=b!==c?b.parentNode:null);return g?{method:g,element:j||b,owner:h}:void 0}var e="ko_delegated_",f="ko_delegated_parent_",g=function(c,d,e,f){return function(g){var h=f(g.target||g.srcElement,d,c);if(h){var i,j,k,l,m,n,o=h.element,p=h.method,q=h.owner;if(p){if(j=a.contextFor(o)){for(;o&&o!==d;){if(o.disabled)return;o=o.parentNode}i=j.$data,"string"==typeof p?(p in b?(m=b[p],m&&(k="function"==typeof m?m:m.action,q=m.owner||i)):i&&i[p]&&"function"==typeof i[p]&&(k=i[p],q=i),k||(l=a.utils.arrayFirst(j.$parents,function(a){return a[p]&&"function"==typeof a[p]}),k=l&&l[p],q=l)):"function"==typeof p&&(k=p,q=q||i)}k&&(n="submit"===c?k.call(i,g.target):k.call(q,i,g),n!==!0&&(g.preventDefault?g.preventDefault():g.returnValue=!1),e!==!0&&(g.cancelBubble=!0,"function"==typeof g.stopPropagation&&g.stopPropagation()))}}}},h=function(a,b){return a+b.substr(0,1).toUpperCase()+b.slice(1)},i=function(b,c){a.bindingHandlers[b]||(a.bindingHandlers[b]={init:function(b,d){var e=d();a.utils.domData.set(b,c,e)}})},j=function(a){a&&(i(h("delegated",a),e+a),i(h("delegatedParent",a),f+a))};a.bindingHandlers.delegatedHandler={init:function(b,c,e){var f=a.utils.unwrapObservable(c())||[];"string"==typeof f&&(f=[f]),a.utils.arrayForEach(f,function(c){var f=e.get(h("delegated",c+"Bubble"))===!0;j(c),a.utils.registerEventHandler(b,c,g(c,b,f,d))})}},a.bindingHandlers.delegatedParentHandler={init:function(b,d,e){var f=a.utils.unwrapObservable(d());a.utils.objectForEach(f,function(d){var i=e.get(h("delegated",d+"Bubble"))===!0;a.utils.registerEventHandler(b,d,g(d,b,i,c(f[d])))})}}});